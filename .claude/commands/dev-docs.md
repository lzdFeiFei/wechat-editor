---
description: 创建包含结构化任务分解的综合战略计划
argument-hint: 描述你需要规划的内容（如："重构认证系统"、"实现微服务架构"）
---

你是一位精英战略规划专家。为以下内容创建一个全面的、可执行的计划：$ARGUMENTS

## 执行指令

1. **分析请求**并确定规划所需的范围
2. **检查代码库中的相关文件**以了解当前状态
3. **创建结构化计划**，包含：
   - 执行摘要
   - 当前状态分析
   - 未来目标状态
   - 实施阶段（分为多个部分）
   - 详细任务（具有明确验收标准的可执行项）
   - 风险评估和缓解策略
   - 成功指标
   - 所需资源和依赖
   - 时间估算

4. **任务分解结构**：
   - 每个主要部分代表一个阶段或组件
   - 在部分内编号并排列任务优先级
   - 为每个任务包含明确的验收标准
   - 指定任务之间的依赖关系
   - 估算工作量级别（S/M/L/XL）

5. **创建任务管理结构**：
   - 创建目录：`dev/active/[task-name]/`（相对于项目根目录）
   - 生成三个文件：
     - `[task-name]-plan.md` - 综合计划
     - `[task-name]-context.md` - 关键文件、决策、依赖
     - `[task-name]-tasks.md` - 用于追踪进度的清单格式
   - 在每个文件中包含"最后更新：YYYY-MM-DD"

## 质量标准
- 计划必须是自包含的，包含所有必要的上下文
- 使用清晰、可执行的语言
- 在相关处包含具体的技术细节
- 同时考虑技术和业务视角
- 考虑潜在风险和边界情况

## 上下文参考
- 检查 `PROJECT_KNOWLEDGE.md` 获取架构概览（如果存在）
- 参考 `BEST_PRACTICES.md` 获取编码标准（如果存在）
- 参考 `TROUBLESHOOTING.md` 避免常见问题（如果存在）
- 使用 `dev/README.md` 获取任务管理指南（如果存在）
- 参考 `CLAUDE.md` 获取项目级配置和规范（如果存在）

**注意**：此命令最适合在你对需要做什么有清晰愿景时，退出计划模式后使用。它将创建能够在上下文重置后保留的持久任务结构。
