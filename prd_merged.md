# å¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆå·¥å…· - å®Œæ•´äº§å“ä¸æŠ€æœ¯æ–‡æ¡£

> èåˆäº§å“éœ€æ±‚ä¸æŠ€æœ¯æ–¹æ¡ˆçš„å®Œæ•´æ–‡æ¡£

---

## ğŸ“‹ ç›®å½•

- [ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“è§„åˆ’](#ç¬¬ä¸€éƒ¨åˆ†äº§å“è§„åˆ’)
- [ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ€æœ¯æ–¹æ¡ˆ](#ç¬¬äºŒéƒ¨åˆ†æŠ€æœ¯æ–¹æ¡ˆ)

---

# ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“è§„åˆ’

## ä¸€ã€äº§å“æ¦‚è¿°

### 1.1 äº§å“å®šä½
ä¸€æ¬¾ç®€æ´ã€å…è´¹ã€æ˜“ç”¨çš„å¾®ä¿¡å…¬ä¼—å·æ–‡ç« æ’ç‰ˆå·¥å…·ï¼Œé¢å‘ä¸ªäººåˆ›ä½œè€…å’Œå°å‹å›¢é˜Ÿï¼Œæä¾›åŸºç¡€è€Œå®ç”¨çš„æ’ç‰ˆåŠŸèƒ½ï¼Œæ— éœ€æ³¨å†Œç™»å½•å³å¯ä½¿ç”¨ã€‚

### 1.2 ç›®æ ‡ç”¨æˆ·
- ä¸ªäººå…¬ä¼—å·è¿è¥è€…
- è‡ªåª’ä½“å†™ä½œè€…
- ä¸æƒ³ä¸ºæ’ç‰ˆå·¥å…·ä»˜è´¹çš„ç”¨æˆ·
- è¿½æ±‚ç®€æ´é«˜æ•ˆçš„åˆ›ä½œè€…

### 1.3 æ ¸å¿ƒä»·å€¼
- **é›¶æˆæœ¬**ï¼šå®Œå…¨å…è´¹,æ— å¹¿å‘Šå¹²æ‰°
- **é›¶é—¨æ§›**ï¼šæ‰“å¼€å³ç”¨ï¼Œæ— éœ€æ³¨å†Œ
- **é«˜æ•ˆç‡**ï¼šä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½ï¼Œæ“ä½œæµç•…ï¼ŒåŸç”Ÿæ”¯æŒ Markdown
- **å¯å®šåˆ¶**ï¼šæ”¯æŒä¿å­˜ä¸ªäººå¸¸ç”¨æ ·å¼

### 1.4 äº§å“ç›®æ ‡ï¼ˆMVPé˜¶æ®µï¼‰
- å®Œæˆæ ¸å¿ƒæ’ç‰ˆåŠŸèƒ½å¼€å‘
- **åŸç”Ÿæ”¯æŒ Markdown è¾“å…¥å’Œç²˜è´´**
- æ”¯æŒä¸€é”®å¤åˆ¶åˆ°å¾®ä¿¡å…¬ä¼—å·
- ç•Œé¢ç®€æ´ç›´è§‚ï¼Œå­¦ä¹ æˆæœ¬ä½äº5åˆ†é’Ÿ
- ç”¨æˆ·èƒ½åœ¨10åˆ†é’Ÿå†…å®Œæˆä¸€ç¯‡æ–‡ç« çš„æ’ç‰ˆ

---

## äºŒã€ç«å“åˆ†æ

| åŠŸèƒ½ | ç§€ç±³ | 135ç¼–è¾‘å™¨ | æœ¬äº§å“ |
|------|------|-----------|--------|
| ä»·æ ¼ | éƒ¨åˆ†æ”¶è´¹ | éƒ¨åˆ†æ”¶è´¹ | å®Œå…¨å…è´¹ |
| æ³¨å†Œ | éœ€è¦ | éœ€è¦ | ä¸éœ€è¦ |
| Markdownæ”¯æŒ | å¼± | å¼± | **åŸç”Ÿæ”¯æŒ** |
| æ¨¡æ¿æ•°é‡ | 1000+ | 800+ | 5-10ï¼ˆç²¾é€‰ï¼‰|
| æ“ä½œå¤æ‚åº¦ | ä¸­ç­‰ | è¾ƒå¤æ‚ | ç®€å• |
| è‡ªå®šä¹‰èƒ½åŠ› | å¼º | å¼º | ä¸­ç­‰ |
| å­¦ä¹ æˆæœ¬ | è¾ƒé«˜ | é«˜ | ä½ |
| ç¼–è¾‘å™¨æŠ€æœ¯ | UEditor | UEditor | **Tiptapï¼ˆç°ä»£åŒ–ï¼‰** |

**æ ¸å¿ƒå·®å¼‚åŒ–ä¼˜åŠ¿ï¼š**
1. âœ… å®Œå…¨å…è´¹ä¸”æ— å¹¿å‘Š
2. âœ… åŸç”Ÿ Markdown æ”¯æŒï¼ˆè§£å†³æœ€å¤§ç—›ç‚¹ï¼‰
3. âœ… æ— éœ€æ³¨å†Œï¼Œæ‰“å¼€å³ç”¨
4. âœ… ç°ä»£åŒ–ç¼–è¾‘ä½“éªŒ

---

## ä¸‰ã€ç”¨æˆ·åœºæ™¯

### åœºæ™¯1ï¼šä¸ªäººå…¬ä¼—å·æ—¥æ›´
- **ç”¨æˆ·**ï¼šå¼ ä¸‰æ¯å¤©å†™ä¸€ç¯‡å…¬ä¼—å·æ–‡ç« 
- **éœ€æ±‚**ï¼šå¿«é€Ÿæ’ç‰ˆï¼Œé£æ ¼ç»Ÿä¸€
- **ä½¿ç”¨æµç¨‹**ï¼šæ‰“å¼€å·¥å…· â†’ ç²˜è´´ Markdown æ–‡æœ¬ â†’ åº”ç”¨å¸¸ç”¨æ¨¡æ¿ â†’ å¾®è°ƒ â†’ å¤åˆ¶å‘å¸ƒ
- **è€—æ—¶**ï¼š5-8åˆ†é’Ÿï¼ˆæ¯”ä¼ ç»Ÿå·¥å…·å¿«30%ï¼‰

### åœºæ™¯2ï¼šå¶å°”å‘æ–‡çš„æ™®é€šç”¨æˆ·
- **ç”¨æˆ·**ï¼šæå››ä¸€ä¸ªæœˆå‘2-3ç¯‡æ–‡ç« 
- **éœ€æ±‚**ï¼šç®€å•ç¾è§‚ï¼Œä¸æƒ³å­¦ä¹ å¤æ‚å·¥å…·
- **ä½¿ç”¨æµç¨‹**ï¼šæ‰“å¼€å·¥å…· â†’ ç²˜è´´ Markdown/çº¯æ–‡æœ¬ â†’ é€‰æ‹©å–œæ¬¢çš„æ¨¡æ¿ â†’ å¤åˆ¶å‘å¸ƒ
- **è€—æ—¶**ï¼š10-15åˆ†é’Ÿ

### åœºæ™¯3ï¼šè¿½æ±‚ä¸ªæ€§åŒ–çš„åˆ›ä½œè€…
- **ç”¨æˆ·**ï¼šç‹äº”å¸Œæœ›æ¯ç¯‡æ–‡ç« éƒ½æœ‰ç‹¬ç‰¹é£æ ¼
- **éœ€æ±‚**ï¼šè‡ªå®šä¹‰æ ·å¼ï¼Œä¿å­˜å¸¸ç”¨é…è‰²
- **ä½¿ç”¨æµç¨‹**ï¼šæ‰“å¼€å·¥å…· â†’ ç²˜è´´å†…å®¹ â†’ è‡ªå®šä¹‰è°ƒæ•´ â†’ ä¿å­˜ä¸ºæ¨¡æ¿ â†’ ä¸‹æ¬¡å¤ç”¨
- **è€—æ—¶**ï¼šé¦–æ¬¡30åˆ†é’Ÿï¼Œä¹‹å10åˆ†é’Ÿ

---

## å››ã€åŠŸèƒ½æ¶æ„

```
å¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆå·¥å…·
â”œâ”€â”€ ç¼–è¾‘åŒºåŸŸ
â”‚   â”œâ”€â”€ Tiptap å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆæ”¯æŒ Markdownï¼‰
â”‚   â”œâ”€â”€ å®æ—¶é¢„è§ˆ
â”‚   â””â”€â”€ å­—æ•°ç»Ÿè®¡
â”œâ”€â”€ æ ·å¼å·¥å…·æ 
â”‚   â”œâ”€â”€ æ–‡å­—æ ·å¼
â”‚   â”œâ”€â”€ æ®µè½æ ·å¼
â”‚   â”œâ”€â”€ ç‰¹æ®Šç»„ä»¶
â”‚   â””â”€â”€ é¢œè‰²ä¸»é¢˜ï¼ˆç§’åˆ·/æ¢è‰²ï¼‰
â”œâ”€â”€ æ¨¡æ¿ä¸­å¿ƒ
â”‚   â”œâ”€â”€ é¢„è®¾æ¨¡æ¿
â”‚   â””â”€â”€ æˆ‘çš„æ¨¡æ¿
â””â”€â”€ å·¥å…·æ 
    â”œâ”€â”€ å¯¼å…¥æ–‡æœ¬/Markdown
    â”œâ”€â”€ æ’å…¥å›¾ç‰‡
    â”œâ”€â”€ ä¿å­˜è‰ç¨¿
    â”œâ”€â”€ ä¸€é”®å¤åˆ¶
    â””â”€â”€ æ¸…ç©ºå†…å®¹
```

---

## äº”ã€ç•Œé¢è®¾è®¡

### 5.1 æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Logo] å¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆå·¥å…·           [è‰ç¨¿] [å¸®åŠ©]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              â”‚  â”‚                  â”‚  â”‚            â”‚â”‚
â”‚  â”‚  æ ·å¼å·¥å…·æ   â”‚  â”‚    ç¼–è¾‘åŒºåŸŸ      â”‚  â”‚  å®æ—¶é¢„è§ˆ  â”‚â”‚
â”‚  â”‚              â”‚  â”‚                  â”‚  â”‚            â”‚â”‚
â”‚  â”‚  - æ–‡å­—æ ·å¼  â”‚  â”‚  [Tiptapç¼–è¾‘å™¨]  â”‚  â”‚  [æ‰‹æœºè§†å›¾]â”‚â”‚
â”‚  â”‚  - æ®µè½æ ·å¼  â”‚  â”‚  æ”¯æŒ Markdown   â”‚  â”‚            â”‚â”‚
â”‚  â”‚  - ç‰¹æ®Šç»„ä»¶  â”‚  â”‚                  â”‚  â”‚            â”‚â”‚
â”‚  â”‚  - é¢œè‰²ä¸»é¢˜  â”‚  â”‚                  â”‚  â”‚            â”‚â”‚
â”‚  â”‚  - æ¨¡æ¿åº“    â”‚  â”‚                  â”‚  â”‚            â”‚â”‚
â”‚  â”‚              â”‚  â”‚                  â”‚  â”‚            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [å¯¼å…¥MD] [æ’å…¥å›¾ç‰‡] [ä¿å­˜è‰ç¨¿]  [ä¸€é”®å¤åˆ¶] [æ¸…ç©º]  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 äº¤äº’è®¾è®¡

**Markdown è¾“å…¥æµç¨‹ï¼ˆæ–°å¢ï¼‰**
1. ç”¨æˆ·ç›´æ¥åœ¨ç¼–è¾‘åŒºè¾“å…¥ Markdown è¯­æ³•ï¼ˆå¦‚ `## æ ‡é¢˜`ï¼‰
2. ç¼–è¾‘å™¨è‡ªåŠ¨è¯†åˆ«å¹¶è½¬æ¢ä¸ºå¯¹åº”æ ¼å¼
3. æ”¯æŒå¿«æ·é”®ï¼š`Ctrl+B`ï¼ˆåŠ ç²—ï¼‰ã€`Ctrl+I`ï¼ˆæ–œä½“ï¼‰
4. ç²˜è´´ Markdown æ–‡æœ¬è‡ªåŠ¨è§£æ

**æ ·å¼åº”ç”¨æµç¨‹**
1. ç”¨æˆ·åœ¨ç¼–è¾‘åŒºé€‰ä¸­æ–‡æœ¬
2. ç‚¹å‡»æ ·å¼å·¥å…·æ ä¸­çš„æ ·å¼æŒ‰é’®
3. æ ·å¼ç«‹å³åº”ç”¨ï¼Œé¢„è§ˆåŒºå®æ—¶æ›´æ–°
4. æ”¯æŒæ’¤é”€æ“ä½œï¼ˆCtrl+Zï¼‰

**æ¨¡æ¿åº”ç”¨æµç¨‹**
1. ç”¨æˆ·ç‚¹å‡»"æ¨¡æ¿åº“"
2. å¼¹å‡ºæ¨¡æ¿é€‰æ‹©é¢æ¿ï¼ˆç½‘æ ¼å±•ç¤ºï¼‰
3. æ‚¬åœæ˜¾ç¤ºæ¨¡æ¿é¢„è§ˆ
4. ç‚¹å‡»æ¨¡æ¿ï¼Œå¼¹çª—ç¡®è®¤ï¼š"åº”ç”¨æ¨¡æ¿å°†è¦†ç›–å½“å‰æ ·å¼ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ"
5. ç¡®è®¤ååº”ç”¨æ¨¡æ¿æ ·å¼

**ç§’åˆ·/æ¢è‰²æµç¨‹ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰**
1. ç”¨æˆ·ç‚¹å‡»"æ¢è‰²"æŒ‰é’®
2. é€‰æ‹©æ–°çš„ä¸»é¢˜è‰²
3. ç¼–è¾‘å™¨è‡ªåŠ¨æ›¿æ¢å…¨æ–‡çš„ä¸»é¢˜ç›¸å…³é¢œè‰²
4. é¢„è§ˆåŒºå®æ—¶æ›´æ–°

**ä¸€é”®å¤åˆ¶æµç¨‹**
1. ç”¨æˆ·ç‚¹å‡»"ä¸€é”®å¤åˆ¶"æŒ‰é’®
2. ç³»ç»Ÿç”Ÿæˆç¬¦åˆå¾®ä¿¡æ ¼å¼çš„ HTML
3. è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿
4. æ˜¾ç¤ºæˆåŠŸæç¤ºï¼ˆ3ç§’åè‡ªåŠ¨æ¶ˆå¤±ï¼‰
5. é¦–æ¬¡ä½¿ç”¨æ˜¾ç¤ºæ“ä½œæŒ‡å¼•ï¼š"æ‰“å¼€å¾®ä¿¡å…¬ä¼—å·åå° â†’ æ–°å»ºå›¾æ–‡ â†’ åœ¨ç¼–è¾‘åŒºå³é”®ç²˜è´´"

### 5.3 è§†è§‰è®¾è®¡

**é…è‰²æ–¹æ¡ˆ**
- ä¸»è‰²ï¼š#3B82F6ï¼ˆè“è‰²ï¼Œç”¨äºæŒ‰é’®ã€é“¾æ¥ï¼‰
- è¾…åŠ©è‰²ï¼š#10B981ï¼ˆç»¿è‰²ï¼Œç”¨äºæˆåŠŸæç¤ºï¼‰
- èƒŒæ™¯è‰²ï¼š#F9FAFBï¼ˆæµ…ç°ï¼Œæ•´ä½“èƒŒæ™¯ï¼‰
- ç¼–è¾‘åŒºèƒŒæ™¯ï¼š#FFFFFFï¼ˆçº¯ç™½ï¼‰
- æ–‡å­—è‰²ï¼š#1F2937ï¼ˆæ·±ç°ï¼Œä¸»è¦æ–‡å­—ï¼‰/ #6B7280ï¼ˆä¸­ç°ï¼Œæ¬¡è¦æ–‡å­—ï¼‰

**å­—ä½“**
- ç•Œé¢å­—ä½“ï¼š-apple-system, å¾®è½¯é›…é»‘
- ç¼–è¾‘åŒºå­—ä½“ï¼šä¸å…¬ä¼—å·ä¸€è‡´

**é—´è·è§„èŒƒ**
- å¤§é—´è·ï¼š24pxï¼ˆæ¨¡å—é—´è·ï¼‰
- ä¸­é—´è·ï¼š16pxï¼ˆç»„ä»¶é—´è·ï¼‰
- å°é—´è·ï¼š8pxï¼ˆå…ƒç´ é—´è·ï¼‰

**åœ†è§’**
- æŒ‰é’®ï¼š6px
- å¡ç‰‡ï¼š8px
- é¢æ¿ï¼š12px

---

## å…­ã€ç”¨æˆ·ä½“éªŒè®¾è®¡

### 6.1 æ–°æ‰‹å¼•å¯¼

**é¦–æ¬¡æ‰“å¼€**
- æ˜¾ç¤ºæ¬¢è¿å¼¹çª—
- ä»‹ç»æ ¸å¿ƒåŠŸèƒ½ï¼ˆ3-4å¼ å›¾ï¼‰
- **ç‰¹åˆ«å¼ºè°ƒ Markdown æ”¯æŒåŠŸèƒ½**
- æä¾›ç¤ºä¾‹æ–‡ç« å¯ç›´æ¥ä½“éªŒ
- "è·³è¿‡å¼•å¯¼"æŒ‰é’®

**æ“ä½œæç¤º**
- å·¥å…·æ æŒ‰é’®æ‚¬åœæ˜¾ç¤ºåŠŸèƒ½è¯´æ˜
- å…³é”®æ“ä½œæ˜¾ç¤ºæ°”æ³¡æç¤ºï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
- Markdown è¯­æ³•å¿«é€Ÿå‚è€ƒå¡ç‰‡
- å¸®åŠ©ä¸­å¿ƒæä¾›è§†é¢‘æ•™ç¨‹å’Œæ–‡æ¡£

### 6.2 æ“ä½œä¼˜åŒ–

**å¿«æ·é”®æ”¯æŒ**
- Ctrl+Bï¼šåŠ ç²—
- Ctrl+Iï¼šæ–œä½“
- Ctrl+Zï¼šæ’¤é”€
- Ctrl+Yï¼šé‡åš
- Ctrl+Sï¼šä¿å­˜è‰ç¨¿
- Ctrl+Kï¼šæ’å…¥é“¾æ¥
- `##` + ç©ºæ ¼ï¼šè‡ªåŠ¨è½¬ä¸ºäºŒçº§æ ‡é¢˜ï¼ˆMarkdownï¼‰

**æ‹–æ‹½æ”¯æŒ**
- å›¾ç‰‡æ‹–æ‹½ä¸Šä¼ 
- æ®µè½æ‹–æ‹½æ’åº

**æ™ºèƒ½è¯†åˆ«**
- ç²˜è´´ç½‘å€è‡ªåŠ¨è½¬æ¢ä¸ºé“¾æ¥
- ç²˜è´´å¤šè¡Œæ–‡æœ¬è‡ªåŠ¨åˆ†æ®µ
- **è¯†åˆ« Markdown æ ¼å¼å¹¶è‡ªåŠ¨è§£æ**
- è¯†åˆ«æ ‡é¢˜æ ¼å¼ï¼ˆ# æ ‡è®°ï¼‰

### 6.3 é”™è¯¯å¤„ç†

**å¸¸è§é”™è¯¯åœºæ™¯**
1. å›¾ç‰‡è¿‡å¤§ï¼šæç¤º"å›¾ç‰‡è¶…è¿‡5MBï¼Œè¯·å‹ç¼©åä¸Šä¼ "
2. å¤åˆ¶å¤±è´¥ï¼šæç¤º"å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å†…å®¹å¤åˆ¶"
3. æµè§ˆå™¨ä¸æ”¯æŒï¼šæç¤º"è¯·ä½¿ç”¨Chromeã€Edgeç­‰ç°ä»£æµè§ˆå™¨"
4. è‰ç¨¿å­˜å‚¨å·²æ»¡ï¼šæç¤º"è‰ç¨¿æ•°é‡å·²è¾¾ä¸Šé™ï¼Œè¯·åˆ é™¤éƒ¨åˆ†è‰ç¨¿"
5. Markdown è§£æå¤±è´¥ï¼šæç¤º"Markdown æ ¼å¼æœ‰è¯¯ï¼Œè¯·æ£€æŸ¥è¯­æ³•"

---

## ä¸ƒã€æ•°æ®ç»Ÿè®¡ä¸è¿è¥

### 7.1 æ ¸å¿ƒæŒ‡æ ‡

**ä½¿ç”¨æŒ‡æ ‡**
- æ—¥æ´»ç”¨æˆ·æ•°ï¼ˆDAUï¼‰
- æœˆæ´»ç”¨æˆ·æ•°ï¼ˆMAUï¼‰
- äººå‡ä½¿ç”¨æ—¶é•¿
- äººå‡ç¼–è¾‘æ–‡ç« æ•°

**åŠŸèƒ½æŒ‡æ ‡**
- ä¸€é”®å¤åˆ¶æˆåŠŸç‡
- æ¨¡æ¿ä½¿ç”¨ç‡ï¼ˆå„æ¨¡æ¿ä½¿ç”¨å æ¯”ï¼‰
- **Markdown åŠŸèƒ½ä½¿ç”¨ç‡**
- è‰ç¨¿ä¿å­˜ç‡
- å›¾ç‰‡ä¸Šä¼ æˆåŠŸç‡
- ç§’åˆ·/æ¢è‰²åŠŸèƒ½ä½¿ç”¨ç‡

**ç•™å­˜æŒ‡æ ‡**
- æ¬¡æ—¥ç•™å­˜ç‡
- 7æ—¥ç•™å­˜ç‡
- 30æ—¥ç•™å­˜ç‡

### 7.2 æ•°æ®é‡‡é›†åŸåˆ™

**éšç§ä¼˜å…ˆåŸåˆ™**
- ä¸æ”¶é›†ç”¨æˆ·æ–‡ç« å†…å®¹
- ä¸æ”¶é›†ç”¨æˆ·ä¸ªäººä¿¡æ¯
- ä»…æ”¶é›†åŒ¿åä½¿ç”¨æ•°æ®
- ç”¨æˆ·å¯é€‰æ‹©å…³é—­æ•°æ®ç»Ÿè®¡

**é‡‡é›†å†…å®¹**
- åŠŸèƒ½ä½¿ç”¨æ¬¡æ•°
- é¡µé¢è®¿é—®é‡
- é”™è¯¯æ—¥å¿—
- æ€§èƒ½æŒ‡æ ‡ï¼ˆåŠ è½½æ—¶é—´ã€å“åº”æ—¶é—´ï¼‰

---

## å…«ã€æˆåŠŸæ ‡å‡†

### 8.1 MVP é˜¶æ®µç›®æ ‡

**åŠŸèƒ½å®Œæˆåº¦**
- âœ… æ ¸å¿ƒæ’ç‰ˆåŠŸèƒ½ 100% å¯ç”¨
- âœ… Markdown æ”¯æŒè¦†ç›–ç‡ > 90%
- âœ… ä¸€é”®å¤åˆ¶æˆåŠŸç‡ > 95%
- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 2ç§’
- âœ… ç¼–è¾‘å“åº”æ—¶é—´ < 100ms

**ç”¨æˆ·æ»¡æ„åº¦**
- æ–°æ‰‹èƒ½åœ¨ 10 åˆ†é’Ÿå†…å®Œæˆä¸€ç¯‡æ–‡ç« æ’ç‰ˆ
- ç”¨æˆ·åé¦ˆçš„ä¸¥é‡ bug æ•°é‡ < 3ä¸ª
- ç”¨æˆ·æ¨èæ„æ„¿ > 60%

### 8.2 é•¿æœŸç›®æ ‡

**3ä¸ªæœˆç›®æ ‡**
- MAU > 1000
- æ—¥å‡æ’ç‰ˆæ–‡ç« æ•° > 500
- ç”¨æˆ·ç•™å­˜ç‡ï¼ˆ7æ—¥ï¼‰> 30%

**6ä¸ªæœˆç›®æ ‡**
- MAU > 5000
- åœ¨å°çº¢ä¹¦ã€çŸ¥ä¹ç­‰å¹³å°æœ‰ 10+ æ¨èæ–‡ç« 
- å½¢æˆæ ¸å¿ƒç”¨æˆ·ç¤¾ç¾¤

---

## ä¹ã€é£é™©ç®¡ç†

### 9.1 æŠ€æœ¯é£é™©

| é£é™©              | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½                                 |
| ----------------- | ---- | ---- | ---------------------------------------- |
| Tiptap å­¦ä¹ æ›²çº¿é™¡ | ä¸­   | é«˜   | é¢„ç•™ 3 å¤©å­¦ä¹ æ—¶é—´ï¼›å‡†å¤‡ Quill.js å¤‡é€‰æ–¹æ¡ˆ |
| å…¬ä¼—å·å…¼å®¹æ€§é—®é¢˜  | é«˜   | é«˜   | å»ºç«‹æµ‹è¯•ç”¨ä¾‹åº“ï¼›å‚è€ƒ 135/ç§€ç±³å®ç°        |
| å›¾ç‰‡å¤„ç†å¤æ‚      | ä¸­   | ä¸­   | MVP ä½¿ç”¨ Base64ï¼›åæœŸå¯¹æ¥å›¾åºŠ            |
| æ€§èƒ½é—®é¢˜          | ä½   | ä¸­   | è™šæ‹Ÿæ»šåŠ¨ï¼›é˜²æŠ–ä¼˜åŒ–ï¼›æ€§èƒ½ç›‘æ§             |
| Markdown è§£æå…¼å®¹æ€§ | ä¸­ | ä¸­   | ä½¿ç”¨æˆç†Ÿåº“ï¼ˆmarked.jsï¼‰ï¼›å……åˆ†æµ‹è¯•       |

### 9.2 äº§å“é£é™©

**é£é™©ï¼šç”¨æˆ·å­¦ä¹ æˆæœ¬é«˜**
- åº”å¯¹ï¼šæä¾›è¯¦ç»†çš„æ–°æ‰‹å¼•å¯¼
- åº”å¯¹ï¼šè®¾è®¡ç›´è§‚çš„ç•Œé¢
- åº”å¯¹ï¼šæä¾›ç¤ºä¾‹æ–‡ç« å’Œ Markdown è¯­æ³•å‚è€ƒ

**é£é™©ï¼šåŠŸèƒ½ä¸ç°æœ‰å·¥å…·å·®å¼‚å¤§ï¼Œç”¨æˆ·ä¸é€‚åº”**
- åº”å¯¹ï¼šæä¾›ä»å…¶ä»–å·¥å…·å¯¼å…¥çš„åŠŸèƒ½
- åº”å¯¹ï¼šä¿æŒå¸¸ç”¨åŠŸèƒ½çš„æ“ä½œä¹ æƒ¯ä¸€è‡´
- åº”å¯¹ï¼šMarkdown ç”¨æˆ·ä¼šæ„Ÿåˆ°æ›´äº²åˆ‡

### 9.3 è¿è¥é£é™©

**é£é™©ï¼šç”¨æˆ·å¢é•¿ç¼“æ…¢**
- åº”å¯¹ï¼šåœ¨å¼€å‘è€…ç¤¾åŒºæ¨å¹¿ï¼ˆMarkdown æ˜¯å–ç‚¹ï¼‰
- åº”å¯¹ï¼šåˆæœŸé€šè¿‡ç¤¾äº¤åª’ä½“ã€è‡ªåª’ä½“ç¤¾ç¾¤æ¨å¹¿
- åº”å¯¹ï¼šæä¾›ä¼˜è´¨çš„ä½¿ç”¨æ•™ç¨‹å¸å¼•ç”¨æˆ·
- åº”å¯¹ï¼šé€šè¿‡å£ç¢‘ä¼ æ’­ï¼Œé¼“åŠ±ç”¨æˆ·æ¨è

---

# ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ€æœ¯æ–¹æ¡ˆ

## ä¸€ã€æŠ€æœ¯é€‰å‹

### 1.1 ç¼–è¾‘å™¨å†…æ ¸é€‰å‹

| æ–¹æ¡ˆ                | ä¼˜åŠ¿                                                    | åŠ£åŠ¿                                           | é€‚ç”¨åœºæ™¯               |
| ------------------- | ------------------------------------------------------- | ---------------------------------------------- | ---------------------- |
| **UEditor**         | ç¨³å®šæˆç†Ÿï¼Œ135/ç§€ç±³åŒæ¬¾ï¼›å…¬ä¼—å·å…¼å®¹æ€§æœ€å¥½ï¼›æ’ä»¶ä¸°å¯Œ      | æŠ€æœ¯è€æ—§ï¼ˆjQueryæ—¶ä»£ï¼‰ï¼›ç»´æŠ¤è¾ƒå°‘ï¼›ä¸æ”¯æŒ React | å¿«é€Ÿä¸Šçº¿ï¼Œè¿½æ±‚ç¨³å®š     |
| **Quill.js**        | è½»é‡ç°ä»£ï¼›API ç®€æ´ï¼›æ¨¡å—åŒ–è®¾è®¡                          | Markdown æ”¯æŒéœ€å®šåˆ¶ï¼›æ ·å¼ç³»ç»Ÿéœ€è‡ªå»º            | ä¸­å°å‹é¡¹ç›®ï¼Œè¿½æ±‚è½»é‡   |
| **Tiptap**          | ç°ä»£åŒ–æ¶æ„ï¼›åŸç”Ÿæ”¯æŒ Markdownï¼›React/Vue å‹å¥½ï¼›æ‰©å±•æ€§å¼º | ç›¸å¯¹å¹´è½»ï¼›ä¸­æ–‡æ–‡æ¡£å°‘ï¼›å­¦ä¹ æ›²çº¿ç•¥é™¡             | é•¿æœŸé¡¹ç›®ï¼Œè¿½æ±‚ä½“éªŒ     |
| **ProseMirror**     | åº•å±‚å¼ºå¤§ï¼›å®Œå…¨å¯æ§ï¼›æ€§èƒ½æœ€ä¼˜                            | å­¦ä¹ æ›²çº¿é™¡ï¼›å¼€å‘å‘¨æœŸé•¿                         | å¤§å‹å¤æ‚é¡¹ç›®           |
| **Toast UI Editor** | Markdown + WYSIWYG åŒæ¨¡å¼ï¼›åŠŸèƒ½å®Œæ•´                     | ä½“ç§¯è¾ƒå¤§ï¼›å®šåˆ¶ç›¸å¯¹å›°éš¾                         | éœ€è¦åŸç”Ÿ Markdown æ”¯æŒ |

### 1.2 æœ€ç»ˆé€‰å‹ï¼š**Tiptap + React**

**å†³ç­–ç†ç”±ï¼š**

1. **åŸç”Ÿ Markdown æ”¯æŒ** - è§£å†³å½“å‰æœ€å¤§ç—›ç‚¹
2. **ç°ä»£åŒ–æ¶æ„** - åŸºäº ProseMirrorï¼Œæ€§èƒ½å’Œæ‰©å±•æ€§ä¼˜ç§€
3. **React ç”Ÿæ€å‹å¥½** - ä¸æŠ€æœ¯æ ˆå®Œç¾æ•´åˆ
4. **é•¿æœŸå¯ç»´æŠ¤** - æ´»è·ƒçš„ç¤¾åŒºå’ŒæŒç»­æ›´æ–°
5. **å®Œå…¨å¯æ§** - å¯æ·±åº¦å®šåˆ¶æ ·å¼è¾“å‡º

**å¤‡é€‰æ–¹æ¡ˆï¼š** å¦‚æœ 3 ä¸ªæœˆå†…æ— æ³•å®Œæˆæ ¸å¿ƒåŠŸèƒ½ï¼Œé™çº§åˆ° Quill.js + Markdown æ’ä»¶

---

## äºŒã€æ•´ä½“æ¶æ„è®¾è®¡

### 2.1 ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯åº”ç”¨å±‚                            â”‚
â”‚                     React 18 + TypeScript                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      UI ç»„ä»¶å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å·¥å…·æ   â”‚  â”‚  ç¼–è¾‘å™¨  â”‚  â”‚  é¢„è§ˆåŒº  â”‚  â”‚  æ¨¡æ¿åº“  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¼–è¾‘å™¨æ ¸å¿ƒå±‚                              â”‚
â”‚              Tiptap Editor + Extensions                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - åŸºç¡€æ‰©å±•ï¼šBold, Italic, Heading, List...          â”‚  â”‚
â”‚  â”‚  - è‡ªå®šä¹‰æ‰©å±•ï¼šWechatSection, ColorTheme, Template   â”‚  â”‚
â”‚  â”‚  - Markdown æ‰©å±•ï¼šåŸç”Ÿæ”¯æŒ Markdown è¯­æ³•              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ ·å¼è½¬æ¢å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - HTML to Inline Styles Converter                   â”‚  â”‚
â”‚  â”‚  - Wechat Compatibility Filter                       â”‚  â”‚
â”‚  â”‚  - Theme Color Replacerï¼ˆç§’åˆ·/æ¢è‰²ï¼‰                â”‚  â”‚
â”‚  â”‚  - Section Wrapper Generator                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®æŒä¹…åŒ–å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ LocalStorageâ”‚  â”‚  IndexedDB  â”‚  â”‚  å›¾åºŠæœåŠ¡   â”‚        â”‚
â”‚  â”‚  (è‰ç¨¿/è®¾ç½®) â”‚  â”‚  (å†å²ç‰ˆæœ¬) â”‚  â”‚  (å›¾ç‰‡æ‰˜ç®¡) â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒæ¨¡å—åˆ’åˆ†

```typescript
src/
â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”œâ”€â”€ Editor/             # ç¼–è¾‘å™¨ä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TiptapEditor.tsx
â”‚   â”‚   â”œâ”€â”€ MenuBar.tsx     # å·¥å…·æ 
â”‚   â”‚   â””â”€â”€ BubbleMenu.tsx  # æµ®åŠ¨èœå•
â”‚   â”œâ”€â”€ Preview/            # é¢„è§ˆç»„ä»¶
â”‚   â”‚   â””â”€â”€ MobilePreview.tsx
â”‚   â”œâ”€â”€ Sidebar/            # ä¾§è¾¹æ 
â”‚   â”‚   â”œâ”€â”€ StylePanel.tsx
â”‚   â”‚   â”œâ”€â”€ TemplatePanel.tsx
â”‚   â”‚   â””â”€â”€ ThemePanel.tsx
â”‚   â””â”€â”€ Toolbar/            # é¡¶éƒ¨å·¥å…·æ 
â”‚       â””â”€â”€ ActionBar.tsx
â”‚
â”œâ”€â”€ extensions/             # Tiptap è‡ªå®šä¹‰æ‰©å±•
â”‚   â”œâ”€â”€ WechatSection.ts   # å…¬ä¼—å· Section å®¹å™¨
â”‚   â”œâ”€â”€ ColorTheme.ts      # ä¸»é¢˜è‰²ç³»ç»Ÿï¼ˆç§’åˆ·/æ¢è‰²ï¼‰
â”‚   â”œâ”€â”€ InlineStyle.ts     # å†…è”æ ·å¼å¤„ç†
â”‚   â””â”€â”€ MarkdownPaste.ts   # Markdown ç²˜è´´å¢å¼º
â”‚
â”œâ”€â”€ converters/            # æ ¼å¼è½¬æ¢å™¨
â”‚   â”œâ”€â”€ htmlToWechat.ts   # HTML è½¬å…¬ä¼—å·æ ¼å¼
â”‚   â”œâ”€â”€ markdownToHtml.ts # Markdown è½¬ HTML
â”‚   â””â”€â”€ styleInliner.ts   # CSS å†…è”åŒ–
â”‚
â”œâ”€â”€ templates/            # æ ·å¼æ¨¡æ¿åº“
â”‚   â”œâ”€â”€ types.ts
â”‚   â”œâ”€â”€ presets/         # é¢„è®¾æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ minimal.ts
â”‚   â”‚   â”œâ”€â”€ business.ts
â”‚   â”‚   â””â”€â”€ artistic.ts
â”‚   â””â”€â”€ components/      # ç»„ä»¶æ¨¡æ¿
â”‚       â”œâ”€â”€ heading.ts
â”‚       â”œâ”€â”€ quote.ts
â”‚       â””â”€â”€ divider.ts
â”‚
â”œâ”€â”€ hooks/               # React Hooks
â”‚   â”œâ”€â”€ useEditor.ts
â”‚   â”œâ”€â”€ useDraft.ts
â”‚   â”œâ”€â”€ useTemplate.ts
â”‚   â””â”€â”€ useClipboard.ts
â”‚
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ wechatCompat.ts # å…¬ä¼—å·å…¼å®¹æ€§æ£€æŸ¥
â”‚   â”œâ”€â”€ imageCompress.ts# å›¾ç‰‡å‹ç¼©
â”‚   â””â”€â”€ colorUtils.ts   # é¢œè‰²å¤„ç†ï¼ˆç§’åˆ·/æ¢è‰²ï¼‰
â”‚
â””â”€â”€ stores/              # çŠ¶æ€ç®¡ç†
    â”œâ”€â”€ editorStore.ts
    â”œâ”€â”€ themeStore.ts
    â””â”€â”€ draftStore.ts
```

---

## ä¸‰ã€æ ¸å¿ƒæŠ€æœ¯å®ç°

### 3.1 Tiptap ç¼–è¾‘å™¨åˆå§‹åŒ–

```typescript
// src/components/Editor/TiptapEditor.tsx
import { useEditor, EditorContent } from '@tiptap/react'
import StarterKit from '@tiptap/starter-kit'
import { Markdown } from 'tiptap-markdown'
import { Color } from '@tiptap/extension-color'
import TextStyle from '@tiptap/extension-text-style'

// è‡ªå®šä¹‰æ‰©å±•
import { WechatSection } from '@/extensions/WechatSection'
import { ColorTheme } from '@/extensions/ColorTheme'

export function TiptapEditor() {
  const editor = useEditor({
    extensions: [
      StarterKit.configure({
        heading: {
          levels: [1, 2, 3],
        },
      }),
      Markdown.configure({
        // å¯ç”¨ Markdown æ”¯æŒ
        html: true,
        transformPastedText: true,
        transformCopiedText: true,
      }),
      TextStyle,
      Color,
      // è‡ªå®šä¹‰æ‰©å±•
      WechatSection,
      ColorTheme,
    ],
    content: '<p>å¼€å§‹ç¼–è¾‘...æ”¯æŒ Markdown è¯­æ³•</p>',
    editorProps: {
      attributes: {
        class: 'prose prose-sm sm:prose lg:prose-lg xl:prose-xl focus:outline-none',
      },
    },
  })

  return (
    <div className="editor-wrapper">
      <EditorContent editor={editor} />
    </div>
  )
}
```

### 3.2 Markdown å¢å¼ºå¤„ç†ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

```typescript
// src/extensions/MarkdownPaste.ts
import { Extension } from '@tiptap/core'
import { Plugin, PluginKey } from '@tiptap/pm/state'
import { marked } from 'marked'

export const MarkdownPaste = Extension.create({
  name: 'markdownPaste',

  addProseMirrorPlugins() {
    return [
      new Plugin({
        key: new PluginKey('markdownPaste'),

        props: {
          handlePaste: (view, event, slice) => {
            const text = event.clipboardData?.getData('text/plain')

            if (!text || !this.isMarkdown(text)) {
              return false
            }

            // è½¬æ¢ Markdown ä¸º HTML
            const html = marked.parse(text, {
              breaks: true,
              gfm: true,
            })

            // æ’å…¥è½¬æ¢åçš„å†…å®¹
            const { tr } = view.state
            const parser = view.state.schema
            const doc = parser.nodeFromJSON(html)

            view.dispatch(tr.replaceSelection(doc))

            return true
          },
        },
      }),
    ]
  },

  isMarkdown(text: string): boolean {
    const markdownPatterns = [
      /^#{1,6}\s/m,     // æ ‡é¢˜
      /\*\*.*?\*\*/,    // ç²—ä½“
      /\[.*?\]\(.*?\)/, // é“¾æ¥
      /^[-*+]\s/m,      // åˆ—è¡¨
      /```[\s\S]*?```/, // ä»£ç å—
      /^\d+\.\s/m,      // æœ‰åºåˆ—è¡¨
    ]

    return markdownPatterns.some(pattern => pattern.test(text))
  },
})
```

### 3.3 è‡ªå®šä¹‰ Section æ‰©å±•

```typescript
// src/extensions/WechatSection.ts
import { Node, mergeAttributes } from '@tiptap/core'

export interface WechatSectionOptions {
  HTMLAttributes: Record<string, any>
}

export const WechatSection = Node.create<WechatSectionOptions>({
  name: 'wechatSection',

  group: 'block',
  content: 'block+',

  addOptions() {
    return {
      HTMLAttributes: {},
    }
  },

  parseHTML() {
    return [{ tag: 'section' }]
  },

  renderHTML({ HTMLAttributes }) {
    return [
      'section',
      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, {
        'data-wechat-section': 'true',
      }),
      0,
    ]
  },

  addCommands() {
    return {
      setWechatSection:
        attributes =>
        ({ commands }) => {
          return commands.setNode(this.name, attributes)
        },

      toggleWechatSection:
        attributes =>
        ({ commands }) => {
          return commands.toggleNode(this.name, 'paragraph', attributes)
        },
    }
  },
})
```

### 3.4 ç§’åˆ·/æ¢è‰²åŠŸèƒ½ï¼ˆColorTheme æ‰©å±•ï¼‰

```typescript
// src/extensions/ColorTheme.ts
import { Extension } from '@tiptap/core'

export const ColorTheme = Extension.create({
  name: 'colorTheme',

  addGlobalAttributes() {
    return [
      {
        types: ['heading', 'paragraph'],
        attributes: {
          themeColor: {
            default: null,
            parseHTML: element => element.getAttribute('data-theme-color'),
            renderHTML: attributes => {
              if (!attributes.themeColor) return {}

              return {
                'data-theme-color': attributes.themeColor,
                style: `color: var(--theme-primary, ${attributes.themeColor})`,
              }
            },
          },
        },
      },
    ]
  },

  addCommands() {
    return {
      setThemeColor:
        (color: string) =>
        ({ commands, editor }) => {
          // éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ›´æ–°ä¸»é¢˜è‰²
          const { doc } = editor.state
          let tr = editor.state.tr

          doc.descendants((node, pos) => {
            if (node.attrs.themeColor) {
              tr = tr.setNodeMarkup(pos, null, {
                ...node.attrs,
                themeColor: color,
              })
            }
          })

          return commands.setMeta('addToHistory', false)
        },
    }
  },
})

// ä½¿ç”¨ç¤ºä¾‹
function changeTheme(editor: Editor, newColor: string) {
  editor.chain().focus().setThemeColor(newColor).run()

  // åŒæ—¶æ›´æ–° CSS å˜é‡
  document.documentElement.style.setProperty('--theme-primary', newColor)
}
```

### 3.5 æ ·å¼å†…è”åŒ–è½¬æ¢å™¨

```typescript
// src/converters/styleInliner.ts
import juice from 'juice'

interface InlineOptions {
  removeStyleTags?: boolean
  preserveMediaQueries?: boolean
  preserveFontFaces?: boolean
}

export class StyleInliner {
  /**
   * å°† CSS ç±»è½¬æ¢ä¸ºå†…è”æ ·å¼
   */
  static toInline(html: string, options: InlineOptions = {}): string {
    const defaultOptions = {
      removeStyleTags: true,
      preserveMediaQueries: false,
      preserveFontFaces: false,
      ...options,
    }

    // ä½¿ç”¨ juice åº“è½¬æ¢
    const inlinedHtml = juice(html, defaultOptions)

    // æ¸…ç†å¾®ä¿¡ä¸æ”¯æŒçš„æ ·å¼
    return this.cleanWechatStyles(inlinedHtml)
  }

  /**
   * æ¸…ç†å¾®ä¿¡å…¬ä¼—å·ä¸æ”¯æŒçš„ CSS å±æ€§
   */
  private static cleanWechatStyles(html: string): string {
    const unsupportedProps = [
      'position',
      'float',
      'z-index',
      'transform',
      'animation',
      'transition',
      '@font-face',
      'flex(?!-direction)', // ä¿ç•™ flex-direction
    ]

    const pattern = new RegExp(`(${unsupportedProps.join('|')})\\s*:[^;]+;?`, 'gi')

    return html.replace(pattern, '')
  }

  /**
   * è½¬æ¢é¢œè‰²å€¼ä¸ºå†…è”æ ·å¼ï¼ˆç§’åˆ·/æ¢è‰²åŠŸèƒ½ï¼‰
   */
  static replaceColors(html: string, colorMap: Record<string, string>): string {
    let result = html

    for (const [oldColor, newColor] of Object.entries(colorMap)) {
      const regex = new RegExp(oldColor, 'gi')
      result = result.replace(regex, newColor)
    }

    return result
  }
}
```

### 3.6 å…¬ä¼—å·æ ¼å¼è½¬æ¢å™¨

```typescript
// src/converters/htmlToWechat.ts
import { StyleInliner } from './styleInliner'

export class WechatConverter {
  /**
   * å°†ç¼–è¾‘å™¨ HTML è½¬æ¢ä¸ºå…¬ä¼—å·å…¼å®¹æ ¼å¼
   */
  static convert(html: string, options: ConvertOptions = {}): string {
    // 1. åŒ…è£¹ section æ ‡ç­¾
    let wechatHtml = this.wrapSections(html)

    // 2. è½¬æ¢ä¸ºå†…è”æ ·å¼
    wechatHtml = StyleInliner.toInline(wechatHtml)

    // 3. åº”ç”¨å…¬ä¼—å·æ ‡å‡†æ ·å¼
    wechatHtml = this.applyWechatStyles(wechatHtml, options)

    // 4. å…¼å®¹æ€§æ£€æŸ¥å’Œä¿®å¤
    wechatHtml = this.compatibilityCheck(wechatHtml)

    return wechatHtml
  }

  /**
   * ç”¨ section æ ‡ç­¾åŒ…è£¹å†…å®¹å—
   */
  private static wrapSections(html: string): string {
    const parser = new DOMParser()
    const doc = parser.parseFromString(html, 'text/html')

    const body = doc.body
    const children = Array.from(body.children)

    children.forEach(child => {
      if (child.tagName !== 'SECTION') {
        const section = doc.createElement('section')
        section.setAttribute('style', 'margin: 10px 0;')

        child.parentNode?.insertBefore(section, child)
        section.appendChild(child)
      }
    })

    return body.innerHTML
  }

  /**
   * åº”ç”¨å…¬ä¼—å·æ ‡å‡†æ ·å¼
   */
  private static applyWechatStyles(html: string, options: ConvertOptions): string {
    const styles = {
      p: 'font-size: 15px; line-height: 1.75; letter-spacing: 0.5px; color: #333; text-align: justify; margin: 10px 0;',
      h1: 'font-size: 22px; font-weight: bold; line-height: 1.4; color: #333; margin: 20px 0 10px;',
      h2: 'font-size: 20px; font-weight: bold; line-height: 1.4; color: #333; margin: 18px 0 10px; padding-left: 10px; border-left: 4px solid #3B82F6;',
      h3: 'font-size: 18px; font-weight: bold; line-height: 1.4; color: #333; margin: 16px 0 8px;',
      blockquote:
        'padding: 10px 15px; margin: 15px 0; background: #f5f5f5; border-left: 4px solid #ddd; color: #666;',
      code: 'padding: 2px 6px; margin: 0 2px; background: #f5f5f5; border-radius: 3px; font-family: Consolas, Monaco, monospace; font-size: 14px;',
      pre: 'padding: 15px; margin: 15px 0; background: #f5f5f5; border-radius: 4px; overflow-x: auto;',
      img: 'max-width: 100%; height: auto; display: block; margin: 15px auto;',
      ul: 'padding-left: 20px; margin: 10px 0;',
      ol: 'padding-left: 20px; margin: 10px 0;',
      li: 'line-height: 1.8; margin: 5px 0;',
    }

    let result = html
    for (const [tag, style] of Object.entries(styles)) {
      const regex = new RegExp(`<${tag}([^>]*)>`, 'gi')
      result = result.replace(regex, (match, attrs) => {
        const existingStyle = attrs.match(/style="([^"]*)"/)?.[1] || ''
        const mergedStyle = existingStyle ? `${style} ${existingStyle}` : style
        return `<${tag}${attrs.replace(/style="[^"]*"/, '')} style="${mergedStyle}">`
      })
    }

    return result
  }

  /**
   * å…¼å®¹æ€§æ£€æŸ¥
   */
  private static compatibilityCheck(html: string): string {
    // ç§»é™¤ä¸æ”¯æŒçš„æ ‡ç­¾
    const unsupportedTags = ['script', 'style', 'iframe', 'form', 'input']
    let result = html

    unsupportedTags.forEach(tag => {
      const regex = new RegExp(`<${tag}[^>]*>.*?</${tag}>`, 'gi')
      result = result.replace(regex, '')
    })

    // æ£€æŸ¥å›¾ç‰‡é“¾æ¥æ˜¯å¦æœ‰æ•ˆ
    result = result.replace(/<img([^>]*)src="([^"]*)"([^>]*)>/gi, (match, before, src, after) => {
      if (!src.startsWith('http://') && !src.startsWith('https://')) {
        console.warn('å›¾ç‰‡é“¾æ¥æ— æ•ˆ:', src)
        return `<!-- æ— æ•ˆå›¾ç‰‡: ${src} -->`
      }
      return match
    })

    return result
  }
}

interface ConvertOptions {
  themeColor?: string
  fontSize?: number
  lineHeight?: number
}
```

### 3.7 å¾®ä¿¡å…¬ä¼—å· CSS å±æ€§ç™½åå•

```typescript
// src/utils/wechatCompat.ts

// å¾®ä¿¡å…¬ä¼—å·æ”¯æŒçš„ CSS å±æ€§ç™½åå•
export const WECHAT_SUPPORTED_PROPS = [
  'color',
  'font-size',
  'font-weight',
  'font-style',
  'text-align',
  'line-height',
  'letter-spacing',
  'text-decoration',
  'margin',
  'margin-top',
  'margin-bottom',
  'margin-left',
  'margin-right',
  'padding',
  'padding-top',
  'padding-bottom',
  'padding-left',
  'padding-right',
  'background',
  'background-color',
  'border',
  'border-left',
  'border-right',
  'border-top',
  'border-bottom',
  'border-radius',
  'width',
  'max-width',
  'height',
  'display',
  'text-indent',
]

/**
 * æ£€æŸ¥æ ·å¼æ˜¯å¦å…¼å®¹å¾®ä¿¡å…¬ä¼—å·
 */
export function checkWechatCompatibility(html: string): {
  compatible: boolean
  warnings: string[]
} {
  const warnings: string[] = []
  const unsupportedProps = ['position', 'float', 'z-index', 'transform', 'animation']

  unsupportedProps.forEach(prop => {
    const regex = new RegExp(`${prop}\\s*:`, 'gi')
    if (regex.test(html)) {
      warnings.push(`æ£€æµ‹åˆ°ä¸å…¼å®¹çš„ CSS å±æ€§: ${prop}`)
    }
  })

  return {
    compatible: warnings.length === 0,
    warnings,
  }
}
```

### 3.8 ä¸€é”®å¤åˆ¶åŠŸèƒ½

```typescript
// src/hooks/useClipboard.ts
import { useCallback } from 'react'
import { WechatConverter } from '@/converters/htmlToWechat'

export function useClipboard() {
  const copyToWechat = useCallback(async (editor: Editor) => {
    try {
      // 1. è·å–ç¼–è¾‘å™¨ HTML
      const html = editor.getHTML()

      // 2. è½¬æ¢ä¸ºå…¬ä¼—å·æ ¼å¼
      const wechatHtml = WechatConverter.convert(html)

      // 3. åˆ›å»ºä¸´æ—¶ DOM å…ƒç´ 
      const tempDiv = document.createElement('div')
      tempDiv.innerHTML = wechatHtml
      tempDiv.style.position = 'absolute'
      tempDiv.style.left = '-9999px'
      document.body.appendChild(tempDiv)

      // 4. é€‰æ‹©å†…å®¹
      const range = document.createRange()
      range.selectNodeContents(tempDiv)
      const selection = window.getSelection()
      selection?.removeAllRanges()
      selection?.addRange(range)

      // 5. å¤åˆ¶åˆ°å‰ªè´´æ¿
      const success = document.execCommand('copy')

      // 6. æ¸…ç†
      document.body.removeChild(tempDiv)
      selection?.removeAllRanges()

      if (success) {
        return { success: true, message: 'å·²å¤åˆ¶ï¼Œå¯ç›´æ¥ç²˜è´´åˆ°å…¬ä¼—å·åå°' }
      } else {
        throw new Error('å¤åˆ¶å¤±è´¥')
      }
    } catch (error) {
      console.error('å¤åˆ¶å¤±è´¥:', error)
      return { success: false, message: 'å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å†…å®¹å¤åˆ¶' }
    }
  }, [])

  return { copyToWechat }
}
```

### 3.9 å›¾ç‰‡å¤„ç†æµç¨‹

```typescript
// src/utils/imageCompress.ts
import imageCompression from 'browser-image-compression'

export async function compressImage(file: File): Promise<string> {
  const options = {
    maxSizeMB: 1,
    maxWidthOrHeight: 1920,
    useWebWorker: true,
  }

  try {
    const compressed = await imageCompression(file, options)

    // å¦‚æœå°äº 100KBï¼Œè½¬ Base64
    if (compressed.size < 100 * 1024) {
      return fileToBase64(compressed)
    }

    // å¦åˆ™ä¸Šä¼ åˆ°å›¾åºŠï¼ˆåæœŸå®ç°ï¼‰
    return uploadToImageHost(compressed)
  } catch (error) {
    console.error('å›¾ç‰‡å‹ç¼©å¤±è´¥:', error)
    throw error
  }
}

function fileToBase64(file: File): Promise<string> {
  return new Promise((resolve, reject) => {
    const reader = new FileReader()
    reader.onload = () => resolve(reader.result as string)
    reader.onerror = reject
    reader.readAsDataURL(file)
  })
}

async function uploadToImageHost(file: File): Promise<string> {
  // TODO: å®ç°å›¾åºŠä¸Šä¼ é€»è¾‘
  throw new Error('å›¾åºŠä¸Šä¼ åŠŸèƒ½å¾…å®ç°')
}
```

### 3.10 æ€§èƒ½ä¼˜åŒ–

```typescript
// src/hooks/useEditor.ts
import { useEditor } from '@tiptap/react'
import { debounce } from 'lodash-es'

export function useWechatEditor() {
  const [preview, setPreview] = useState('')

  const editor = useEditor({
    extensions: [
      /* ... */
    ],
    onUpdate: debounce(({ editor }) => {
      // é˜²æŠ–æ›´æ–°é¢„è§ˆï¼ˆ300msï¼‰
      const html = editor.getHTML()
      const wechatHtml = WechatConverter.convert(html)
      setPreview(wechatHtml)
    }, 300),
  })

  return { editor, preview }
}
```

---

## å››ã€å¼€å‘è®¡åˆ’

### 4.1 æŠ€æœ¯å‡†å¤‡é˜¶æ®µï¼ˆ3å¤©ï¼‰

**Day 1:**
- æ­å»º React + TypeScript + Vite é¡¹ç›®
- é…ç½® Tailwind CSS
- é›†æˆ Tiptap åŸºç¡€åŠŸèƒ½

**Day 2:**
- ç ”ç©¶ Tiptap Extensions API
- è®¾è®¡è‡ªå®šä¹‰æ‰©å±•ç»“æ„
- ç¼–å†™æ ¸å¿ƒç±»å‹å®šä¹‰

**Day 3:**
- é…ç½®å¼€å‘ç¯å¢ƒï¼ˆESLint, Prettier, Huskyï¼‰
- æ­å»ºç»„ä»¶åº“éª¨æ¶
- ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ¡†æ¶

### 4.2 MVP å¼€å‘é˜¶æ®µï¼ˆ2å‘¨ï¼‰

**Week 1: æ ¸å¿ƒç¼–è¾‘åŠŸèƒ½**
- Day 1-2: å®ç° Tiptap ç¼–è¾‘å™¨é›†æˆ
- Day 3-4: å¼€å‘ Markdown æ”¯æŒï¼ˆç²˜è´´ã€è¾“å…¥ã€è½¬æ¢ï¼‰
- Day 5: å¼€å‘åŸºç¡€æ ·å¼å·¥å…·æ 
- Day 6-7: å®ç°é¢„è§ˆåŠŸèƒ½å’Œæ ·å¼è½¬æ¢

**Week 2: æ ·å¼ç³»ç»Ÿä¸è¾“å‡º**
- Day 1-2: å¼€å‘ Section æ‰©å±•å’Œå†…è”æ ·å¼è½¬æ¢
- Day 3: å®ç° 3 ä¸ªé¢„è®¾æ¨¡æ¿
- Day 4: å¼€å‘ä¸€é”®å¤åˆ¶åŠŸèƒ½å’Œç§’åˆ·/æ¢è‰²åŠŸèƒ½
- Day 5: å®ç°è‰ç¨¿è‡ªåŠ¨ä¿å­˜
- Day 6-7: æµ‹è¯•å’Œ Bug ä¿®å¤

### 4.3 ä¼˜åŒ–è¿­ä»£é˜¶æ®µï¼ˆ1å‘¨ï¼‰

**åŠŸèƒ½å¢å¼º:**
- æ·»åŠ æ›´å¤šæ ·å¼ç»„ä»¶ï¼ˆå¼•ç”¨æ¡†ã€åˆ†å‰²çº¿ã€å¡ç‰‡ï¼‰
- å®Œå–„é¢œè‰²ä¸»é¢˜ç³»ç»Ÿ
- ä¼˜åŒ–å›¾ç‰‡å¤„ç†
- å¢åŠ é”®ç›˜å¿«æ·é”®

**æ€§èƒ½ä¼˜åŒ–:**
- é¢„è§ˆæ›´æ–°é˜²æŠ–
- æ¨¡æ¿æ‡’åŠ è½½
- ä»£ç åˆ†å‰²

**ç”¨æˆ·ä½“éªŒ:**
- æ–°æ‰‹å¼•å¯¼
- Markdown è¯­æ³•å‚è€ƒå¡ç‰‡
- é”™è¯¯æç¤ºä¼˜åŒ–
- åŠ è½½çŠ¶æ€åé¦ˆ

---

## äº”ã€æµ‹è¯•ç­–ç•¥

### 5.1 å•å…ƒæµ‹è¯•

```typescript
// src/__tests__/converters/htmlToWechat.test.ts
import { describe, it, expect } from 'vitest'
import { WechatConverter } from '@/converters/htmlToWechat'

describe('WechatConverter', () => {
  it('åº”è¯¥å°† class è½¬æ¢ä¸ºå†…è”æ ·å¼', () => {
    const input = '<p class="text-red-500">æµ‹è¯•</p>'
    const output = WechatConverter.convert(input)
    expect(output).toContain('style=')
    expect(output).not.toContain('class=')
  })

  it('åº”è¯¥ç§»é™¤ä¸æ”¯æŒçš„ CSS å±æ€§', () => {
    const input = '<div style="position: fixed; color: red;">æµ‹è¯•</div>'
    const output = WechatConverter.convert(input)
    expect(output).not.toContain('position')
    expect(output).toContain('color: red')
  })

  it('åº”è¯¥ç”¨ section åŒ…è£¹å†…å®¹', () => {
    const input = '<p>æ®µè½1</p><p>æ®µè½2</p>'
    const output = WechatConverter.convert(input)
    expect(output).toContain('<section')
  })
})
```

### 5.2 Markdown æµ‹è¯•

```typescript
// src/__tests__/extensions/MarkdownPaste.test.ts
describe('Markdown æ”¯æŒ', () => {
  it('åº”è¯¥æ­£ç¡®è¯†åˆ« Markdown æ ¼å¼', () => {
    const markdown = '## æ ‡é¢˜\n\nè¿™æ˜¯**ç²—ä½“**æ–‡å­—'
    expect(isMarkdown(markdown)).toBe(true)
  })

  it('åº”è¯¥å°† Markdown è½¬æ¢ä¸º HTML', () => {
    const markdown = '## æ ‡é¢˜'
    const html = convertMarkdown(markdown)
    expect(html).toContain('<h2>')
  })
})
```

### 5.3 å…¼å®¹æ€§æµ‹è¯•

**æµ‹è¯•çŸ©é˜µï¼š**
- æµè§ˆå™¨ï¼šChrome 90+, Edge 90+, Safari 14+
- å¾®ä¿¡ç‰ˆæœ¬ï¼šæœ€è¿‘ 3 ä¸ªç‰ˆæœ¬
- è®¾å¤‡ï¼šiPhone, Android, iPad, ç”µè„‘

**æµ‹è¯•å†…å®¹ï¼š**
- Markdown è¯­æ³•æ”¯æŒå®Œæ•´æ€§
- å„ç§æ ·å¼åœ¨å…¬ä¼—å·ä¸­çš„æ˜¾ç¤ºæ•ˆæœ
- ç§’åˆ·/æ¢è‰²åŠŸèƒ½æ­£ç¡®æ€§
- å›¾ç‰‡æ˜¾ç¤ºæ­£å¸¸æ€§
- ç‰¹æ®Šå­—ç¬¦å¤„ç†
- é•¿æ–‡ç« æ€§èƒ½

---

## å…­ã€éƒ¨ç½²æ–¹æ¡ˆ

### 6.1 æŠ€æœ¯æ ˆ

**å‰ç«¯ï¼š**
- Vite + React 18 + TypeScript
- Tailwind CSS
- Tiptap + Extensions

**éƒ¨ç½²ï¼š**
- Vercel / Netlifyï¼ˆå…è´¹æ‰˜ç®¡ï¼‰

### 6.2 CI/CD æµç¨‹

```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [main]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'

      - name: Install dependencies
        run: npm ci

      - name: Run tests
        run: npm test

      - name: Build
        run: npm run build

      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
```

---

## ä¸ƒã€ç›‘æ§ä¸æ•°æ®åˆ†æ

### 7.1 æ€§èƒ½ç›‘æ§

```typescript
// src/utils/analytics.ts
import { onCLS, onFID, onLCP } from 'web-vitals'

export function initPerformanceMonitoring() {
  onCLS(console.log)
  onFID(console.log)
  onLCP(console.log)

  // è‡ªå®šä¹‰æŒ‡æ ‡
  performance.mark('editor-init-start')
  // ... ç¼–è¾‘å™¨åˆå§‹åŒ–ä»£ç 
  performance.mark('editor-init-end')
  performance.measure('editor-init', 'editor-init-start', 'editor-init-end')
}
```

### 7.2 ç”¨æˆ·è¡Œä¸ºåˆ†æ

**å…³é”®æŒ‡æ ‡ï¼š**
- ç¼–è¾‘å™¨åŠ è½½æ—¶é—´
- å¤åˆ¶æˆåŠŸç‡
- Markdown åŠŸèƒ½ä½¿ç”¨ç‡
- ç§’åˆ·/æ¢è‰²åŠŸèƒ½ä½¿ç”¨ç‡
- åŠŸèƒ½ä½¿ç”¨é¢‘ç‡
- é”™è¯¯å‘ç”Ÿç‡
- ç”¨æˆ·ç•™å­˜ç‡

---

## å…«ã€æŠ€æœ¯å€ºåŠ¡ç®¡ç†

### 8.1 å…è®¸çš„æŠ€æœ¯å€ºåŠ¡ï¼ˆMVP é˜¶æ®µï¼‰

- å›¾ç‰‡æš‚ç”¨ Base64ï¼Œä¸å¯¹æ¥å›¾åºŠ
- è‰ç¨¿åªå­˜æœ¬åœ°ï¼Œä¸åšäº‘åŒæ­¥
- æ¨¡æ¿æ•°é‡å°‘ï¼ˆ3-5ä¸ªï¼‰
- éƒ¨åˆ†è¾¹ç¼˜æ ·å¼å¯èƒ½ä¸å®Œç¾

### 8.2 ä¸å…è®¸çš„æŠ€æœ¯å€ºåŠ¡

- æ ¸å¿ƒåŠŸèƒ½ï¼ˆç¼–è¾‘ã€å¤åˆ¶ï¼‰å¿…é¡»ç¨³å®š
- **Markdown æ”¯æŒå¿…é¡»å®Œæ•´**
- å…¬ä¼—å·å…¼å®¹æ€§å¿…é¡»ä¿è¯
- ä»£ç è´¨é‡å¿…é¡»åˆæ ¼ï¼ˆæœ‰ç±»å‹ã€æœ‰æ³¨é‡Šï¼‰

---

## ä¹ã€é™„å½•

### A. æŠ€æœ¯æ ˆç‰ˆæœ¬

```json
{
  "dependencies": {
    "react": "^18.2.0",
    "@tiptap/react": "^2.1.0",
    "@tiptap/starter-kit": "^2.1.0",
    "tiptap-markdown": "^0.8.2",
    "marked": "^11.0.0",
    "juice": "^10.0.0",
    "lodash-es": "^4.17.21",
    "browser-image-compression": "^2.0.2"
  },
  "devDependencies": {
    "typescript": "^5.0.0",
    "vite": "^5.0.0",
    "vitest": "^1.0.0",
    "tailwindcss": "^3.4.0"
  }
}
```

### B. å‚è€ƒèµ„æº

**å®˜æ–¹æ–‡æ¡£ï¼š**
- Tiptap: https://tiptap.dev/
- ProseMirror: https://prosemirror.net/
- Marked.js: https://marked.js.org/

**å¼€æºé¡¹ç›®ï¼š**
- Notion (å‚è€ƒè®¾è®¡)
- Typora (Markdown ç¼–è¾‘å™¨)

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v3.0 (èåˆç‰ˆ)
**æœ€åæ›´æ–°ï¼š** 2025-12-31
**ç»´æŠ¤è€…ï¼š** å¼€å‘å›¢é˜Ÿ
